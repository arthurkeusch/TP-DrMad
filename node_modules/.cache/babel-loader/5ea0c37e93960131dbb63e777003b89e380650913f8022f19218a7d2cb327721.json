{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport CheckedList from './CheckedList.vue';\nexport default {\n  components: {\n    CheckedList\n  },\n  props: {\n    items: Array,\n    checked: Array\n  },\n  methods: {\n    toggleVirusCheckbox(index) {\n      this.$emit('checked-changed', index);\n    },\n    addToCart({\n      index,\n      amount\n    }) {\n      this.$emit('item-button-clicked', {\n        index,\n        amount\n      });\n    },\n    addAllToCart() {\n      const selectedItems = this.checked.reduce((acc, isSelected, index) => {\n        if (isSelected) {\n          acc.push({\n            index,\n            amount: this.amountInput[index]\n          });\n          // Désélectionner l'item\n          this.$set(this.checked, index, false);\n        }\n        return acc;\n      }, []);\n      this.$emit('list-button-clicked', selectedItems);\n    },\n    updateAmount({\n      index,\n      amount\n    }) {\n      console.log(`Mise à jour de la quantité de ${this.items[index].name} : ${amount}`);\n    }\n  }\n};","map":{"version":3,"names":["CheckedList","components","props","items","Array","checked","methods","toggleVirusCheckbox","index","$emit","addToCart","amount","addAllToCart","selectedItems","reduce","acc","isSelected","push","amountInput","$set","updateAmount","console","log","name"],"sources":["src/components/ItemsList.vue"],"sourcesContent":["<!-- ItemsList.vue -->\r\n<template>\r\n  <div>\r\n    <h2>Liste des articles</h2>\r\n    <p>{{ this.checked }}</p>\r\n    <CheckedList\r\n        :data=\"items\"\r\n        :fields=\"['name', 'price', 'promotions']\"\r\n        :itemCheck=\"true\"\r\n        :checked=\"checked\"\r\n        :itemButton=\"{ show: true, text: 'Ajouter au panier' }\"\r\n        :listButton=\"{ show: true, text: 'Ajouter tous au panier' }\"\r\n        :itemAmount=\"true\"\r\n        @checked-changed=\"toggleVirusCheckbox\"\r\n        @item-button-clicked=\"addToCart\"\r\n        @list-button-clicked=\"addAllToCart\"\r\n        @amount-updated=\"updateAmount\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CheckedList from './CheckedList.vue';\r\n\r\nexport default {\r\n  components: {\r\n    CheckedList,\r\n  },\r\n  props: {\r\n    items: Array,\r\n    checked: Array,\r\n  },\r\n  methods: {\r\n    toggleVirusCheckbox(index) {\r\n      this.$emit('checked-changed', index);\r\n    },\r\n\r\n    addToCart({ index, amount }) {\r\n      this.$emit('item-button-clicked', { index, amount });\r\n    },\r\n\r\n    addAllToCart() {\r\n      const selectedItems = this.checked.reduce((acc, isSelected, index) => {\r\n        if (isSelected) {\r\n          acc.push({\r\n            index,\r\n            amount: this.amountInput[index],\r\n          });\r\n          // Désélectionner l'item\r\n          this.$set(this.checked, index, false);\r\n        }\r\n        return acc;\r\n      }, []);\r\n      this.$emit('list-button-clicked', selectedItems);\r\n    },\r\n\r\n    updateAmount({ index, amount }) {\r\n      console.log(`Mise à jour de la quantité de ${this.items[index].name} : ${amount}`);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";AAsBA,OAAAA,WAAA;AAEA;EACAC,UAAA;IACAD;EACA;EACAE,KAAA;IACAC,KAAA,EAAAC,KAAA;IACAC,OAAA,EAAAD;EACA;EACAE,OAAA;IACAC,oBAAAC,KAAA;MACA,KAAAC,KAAA,oBAAAD,KAAA;IACA;IAEAE,UAAA;MAAAF,KAAA;MAAAG;IAAA;MACA,KAAAF,KAAA;QAAAD,KAAA;QAAAG;MAAA;IACA;IAEAC,aAAA;MACA,MAAAC,aAAA,QAAAR,OAAA,CAAAS,MAAA,EAAAC,GAAA,EAAAC,UAAA,EAAAR,KAAA;QACA,IAAAQ,UAAA;UACAD,GAAA,CAAAE,IAAA;YACAT,KAAA;YACAG,MAAA,OAAAO,WAAA,CAAAV,KAAA;UACA;UACA;UACA,KAAAW,IAAA,MAAAd,OAAA,EAAAG,KAAA;QACA;QACA,OAAAO,GAAA;MACA;MACA,KAAAN,KAAA,wBAAAI,aAAA;IACA;IAEAO,aAAA;MAAAZ,KAAA;MAAAG;IAAA;MACAU,OAAA,CAAAC,GAAA,uCAAAnB,KAAA,CAAAK,KAAA,EAAAe,IAAA,MAAAZ,MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}