{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport VerticalMenu from \"@/components/VerticalMenu\";\nimport { mapActions } from \"vuex\";\nconst __default__ = {\n  components: {\n    VerticalMenu\n  },\n  mounted() {\n    this.updateNavBar();\n  },\n  watch: {\n    $route: \"updateNavBar\"\n  },\n  data() {\n    return {\n      menuItems: [{\n        type: \"title\",\n        label: \"Opérations\"\n      }, {\n        type: \"link\",\n        label: \"Solde\",\n        to: \"/bank/amount\"\n      }, {\n        type: \"link\",\n        label: \"Débit/Virement\",\n        to: \"/bank/operation\"\n      }, {\n        type: \"title\",\n        label: \"États\"\n      }, {\n        type: \"link\",\n        label: \"Historique\",\n        to: \"/bank/history\"\n      }],\n      titles: [],\n      currentBalance: 0\n    };\n  },\n  methods: {\n    ...mapActions(['getAccountAmount']),\n    async updateNavBar() {\n      if (this.$store.state.shopUser !== null && this.$store.state.shopUser !== undefined) {\n        console.log(\"ok\");\n        await this.getAccountAmount(this.$store.state.bank.bankUser.number);\n        this.currentBalance = this.$store.state.bank.accountAmount;\n        console.log(this.currentBalance);\n        if (this.$store.state.bank.bankUser !== null && this.$store.state.bank.sh !== undefined) {}\n        if (this.$route.name === 'bankhome' || this.$route.name === 'bankaccount') {\n          this.titles = [{\n            label: 'Mon Compte',\n            to: '/bank/account'\n          }];\n        }\n      } else {\n        this.titles = [{\n          label: 'Login',\n          to: 'white'\n        }];\n        if (this.$route.name !== 'shoplogin') {\n          this.$router.push({\n            name: 'shoplogin'\n          });\n        }\n      }\n    }\n  }\n};\nimport NavBar from \"@/components/NavBar.vue\";\nexport default /*#__PURE__*/Object.assign(__default__, {\n  __name: 'BankView',\n  setup(__props) {\n    return {\n      __sfc: true,\n      VerticalMenu,\n      NavBar\n    };\n  }\n});","map":{"version":3,"names":["VerticalMenu","mapActions","__default__","components","mounted","updateNavBar","watch","$route","data","menuItems","type","label","to","titles","currentBalance","methods","$store","state","shopUser","undefined","console","log","getAccountAmount","bank","bankUser","number","accountAmount","sh","name","$router","push","NavBar"],"sources":["BankView.vue"],"sourcesContent":["<script setup>\n\nimport NavBar from \"@/components/NavBar.vue\";\n</script>\n\n<template>\n  <div>\n    <div>\n      <NavBar :links=\"titles\">\n        <template v-slot:nav-button=\"{ label, style }\">\n          <span :style=\"style\" v-html=\"label\"></span>\n        </template>\n      </NavBar>\n    </div>\n    <div id=\"page\">\n\n      <VerticalMenu :items=\"menuItems\">\n        <template v-slot:menu-title=\"{ label }\">\n          <h2><b><u>{{ label }}</u></b></h2>\n        </template>\n        <template v-slot:menu-link=\"{ label }\">\n          <button>{{ label }}</button>\n        </template>\n      </VerticalMenu>\n\n      <div id=\"centre\">\n        <h1>Bienvenue à la banque</h1>\n        <router-view name=\"bankmain\" :balance=\"currentBalance\"></router-view>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport VerticalMenu from \"@/components/VerticalMenu\";\nimport {mapActions} from \"vuex\";\n\nexport default {\n  components: {\n    VerticalMenu,\n  },\n\n  mounted() {\n    this.updateNavBar();\n  },\n\n  watch: {\n    $route: \"updateNavBar\",\n  },\n\n  data() {\n    return {\n      menuItems: [\n        {type: \"title\", label: \"Opérations\"},\n        {type: \"link\", label: \"Solde\", to: \"/bank/amount\"},\n        {type: \"link\", label: \"Débit/Virement\", to: \"/bank/operation\"},\n        {type: \"title\", label: \"États\"} ,\n        {type: \"link\", label: \"Historique\", to: \"/bank/history\"}\n      ],\n      titles: [],\n      currentBalance: 0\n    };\n  },\n\n  methods: {\n    ...mapActions([\n      'getAccountAmount'\n    ]),\n\n    async updateNavBar() {\n      if (this.$store.state.shopUser !== null && this.$store.state.shopUser !== undefined) {\n        console.log(\"ok\")\n        await this.getAccountAmount(this.$store.state.bank.bankUser.number);\n        this.currentBalance = this.$store.state.bank.accountAmount;\n        console.log(this.currentBalance);\n        if (this.$store.state.bank.bankUser !== null && this.$store.state.bank.sh !== undefined) {\n\n        }\n        if (this.$route.name === 'bankhome' || this.$route.name === 'bankaccount') {\n          this.titles = [\n            {label: 'Mon Compte', to: '/bank/account'}\n          ];\n        }\n      } else {\n        this.titles = [{label: 'Login', to: 'white'}];\n        if (this.$route.name !== 'shoplogin') {\n          this.$router.push({name: 'shoplogin'});\n        }\n      }\n    },\n  }\n};\n</script>\n\n<style scoped>\n\n#page{\n  display: flex;\n}\n\n</style>"],"mappings":";AAmCA,OAAOA,YAAY,MAAM,2BAA2B;AACpD,SAAQC,UAAU,QAAO,MAAM;AAE/B,MAAAC,WAAA,GAAe;EACbC,UAAU,EAAE;IACVH;EACF,CAAC;EAEDI,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EAEDC,KAAK,EAAE;IACLC,MAAM,EAAE;EACV,CAAC;EAEDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,CACT;QAACC,IAAI,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAY,CAAC,EACpC;QAACD,IAAI,EAAE,MAAM;QAAEC,KAAK,EAAE,OAAO;QAAEC,EAAE,EAAE;MAAc,CAAC,EAClD;QAACF,IAAI,EAAE,MAAM;QAAEC,KAAK,EAAE,gBAAgB;QAAEC,EAAE,EAAE;MAAiB,CAAC,EAC9D;QAACF,IAAI,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAO,CAAC,EAC/B;QAACD,IAAI,EAAE,MAAM;QAAEC,KAAK,EAAE,YAAY;QAAEC,EAAE,EAAE;MAAe,CAAC,CACzD;MACDC,MAAM,EAAE,EAAE;MACVC,cAAc,EAAE;IAClB,CAAC;EACH,CAAC;EAEDC,OAAO,EAAE;IACP,GAAGd,UAAU,CAAC,CACZ,kBAAkB,CACnB,CAAC;IAEF,MAAMI,YAAYA,CAAA,EAAG;MACnB,IAAI,IAAI,CAACW,MAAM,CAACC,KAAK,CAACC,QAAQ,KAAK,IAAI,IAAI,IAAI,CAACF,MAAM,CAACC,KAAK,CAACC,QAAQ,KAAKC,SAAS,EAAE;QACnFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;QACjB,MAAM,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAACN,MAAM,CAACC,KAAK,CAACM,IAAI,CAACC,QAAQ,CAACC,MAAM,CAAC;QACnE,IAAI,CAACX,cAAc,GAAG,IAAI,CAACE,MAAM,CAACC,KAAK,CAACM,IAAI,CAACG,aAAa;QAC1DN,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,cAAc,CAAC;QAChC,IAAI,IAAI,CAACE,MAAM,CAACC,KAAK,CAACM,IAAI,CAACC,QAAQ,KAAK,IAAI,IAAI,IAAI,CAACR,MAAM,CAACC,KAAK,CAACM,IAAI,CAACI,EAAE,KAAKR,SAAS,EAAE,CAEzF;QACA,IAAI,IAAI,CAACZ,MAAM,CAACqB,IAAI,KAAK,UAAU,IAAI,IAAI,CAACrB,MAAM,CAACqB,IAAI,KAAK,aAAa,EAAE;UACzE,IAAI,CAACf,MAAM,GAAG,CACZ;YAACF,KAAK,EAAE,YAAY;YAAEC,EAAE,EAAE;UAAe,CAAC,CAC3C;QACH;MACF,CAAC,MAAM;QACL,IAAI,CAACC,MAAM,GAAG,CAAC;UAACF,KAAK,EAAE,OAAO;UAAEC,EAAE,EAAE;QAAO,CAAC,CAAC;QAC7C,IAAI,IAAI,CAACL,MAAM,CAACqB,IAAI,KAAK,WAAW,EAAE;UACpC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAACF,IAAI,EAAE;UAAW,CAAC,CAAC;QACxC;MACF;IACF;EACF;AACF,CAAC;AA1FD,OAAOG,MAAM,MAAM,yBAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}