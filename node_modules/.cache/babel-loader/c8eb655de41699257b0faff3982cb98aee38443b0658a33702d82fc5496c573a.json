{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ShopService from '../services/shop.service';\nimport router from \"@/router\";\nexport default {\n  state: () => ({\n    viruses: [],\n    shopUser: {\n      \"_id\": \"1\",\n      \"name\": \"admin\",\n      \"login\": \"admin\",\n      \"password\": \"admin\",\n      \"email\": \"admin\",\n      \"orders\": [],\n      \"uuid\": \"bf312d71-f794-40af-b98b-07e892b34736\"\n    }\n  }),\n  mutations: {\n    updateViruses(state, viruses) {\n      state.viruses = viruses;\n    },\n    updateShopUser(state, user) {\n      state.shopUser = user;\n    }\n  },\n  actions: {\n    async shopLogin({\n      commit\n    }, data) {\n      let response = await ShopService.shopLogin(data);\n      if (response.error === 0) {\n        commit('updateShopUser', response.data);\n        this.state.shopUser = response.data;\n        console.log(\"Connection réussi !\");\n        await router.push('/shop');\n      } else {\n        console.log(response.data);\n      }\n    },\n    async shopLogout() {\n      this.state.shopUser = null;\n      console.log(\"Déconnections réussi !\");\n      await router.push('/');\n    },\n    async getAllViruses({\n      commit\n    }) {\n      console.log('récupération des viruses');\n      let response = await ShopService.getAllViruses();\n      if (response.error === 0) {\n        commit('updateViruses', response.data);\n      } else {\n        console.log(response.data);\n      }\n    }\n  }\n};","map":{"version":3,"names":["ShopService","router","state","viruses","shopUser","mutations","updateViruses","updateShopUser","user","actions","shopLogin","commit","data","response","error","console","log","push","shopLogout","getAllViruses"],"sources":["/home/arthur/Documents/BUT/BUT2/Dev web/S3/Front-end/S3/tp4_v2/src/store/shop.js"],"sourcesContent":["import ShopService from '../services/shop.service'\r\nimport router from \"@/router\";\r\n\r\nexport default {\r\n    state: () => ({\r\n        viruses: [],\r\n        shopUser: { \"_id\": \"1\", \"name\": \"admin\", \"login\": \"admin\", \"password\": \"admin\", \"email\": \"admin\", \"orders\": [], \"uuid\": \"bf312d71-f794-40af-b98b-07e892b34736\" },\r\n    }),\r\n\r\n    mutations: {\r\n        updateViruses(state, viruses) {\r\n            state.viruses = viruses\r\n        },\r\n        updateShopUser(state, user) {\r\n            state.shopUser = user;\r\n        },\r\n    },\r\n\r\n    actions: {\r\n        async shopLogin({ commit }, data) {\r\n            let response = await ShopService.shopLogin(data)\r\n            if (response.error === 0) {\r\n                commit('updateShopUser', response.data);\r\n                this.state.shopUser = response.data;\r\n                console.log(\"Connection réussi !\");\r\n                await router.push('/shop');\r\n            } else {\r\n                console.log(response.data)\r\n            }\r\n        },\r\n\r\n        async shopLogout() {\r\n            this.state.shopUser = null;\r\n            console.log(\"Déconnections réussi !\");\r\n            await router.push('/');\r\n        },\r\n\r\n        async getAllViruses({commit}) {\r\n            console.log('récupération des viruses');\r\n            let response = await ShopService.getAllViruses()\r\n            if (response.error === 0) {\r\n                commit('updateViruses', response.data)\r\n            } else {\r\n                console.log(response.data)\r\n            }\r\n        },\r\n    }\r\n}"],"mappings":";AAAA,OAAOA,WAAW,MAAM,0BAA0B;AAClD,OAAOC,MAAM,MAAM,UAAU;AAE7B,eAAe;EACXC,KAAK,EAAEA,CAAA,MAAO;IACVC,OAAO,EAAE,EAAE;IACXC,QAAQ,EAAE;MAAE,KAAK,EAAE,GAAG;MAAE,MAAM,EAAE,OAAO;MAAE,OAAO,EAAE,OAAO;MAAE,UAAU,EAAE,OAAO;MAAE,OAAO,EAAE,OAAO;MAAE,QAAQ,EAAE,EAAE;MAAE,MAAM,EAAE;IAAuC;EACnK,CAAC,CAAC;EAEFC,SAAS,EAAE;IACPC,aAAaA,CAACJ,KAAK,EAAEC,OAAO,EAAE;MAC1BD,KAAK,CAACC,OAAO,GAAGA,OAAO;IAC3B,CAAC;IACDI,cAAcA,CAACL,KAAK,EAAEM,IAAI,EAAE;MACxBN,KAAK,CAACE,QAAQ,GAAGI,IAAI;IACzB;EACJ,CAAC;EAEDC,OAAO,EAAE;IACL,MAAMC,SAASA,CAAC;MAAEC;IAAO,CAAC,EAAEC,IAAI,EAAE;MAC9B,IAAIC,QAAQ,GAAG,MAAMb,WAAW,CAACU,SAAS,CAACE,IAAI,CAAC;MAChD,IAAIC,QAAQ,CAACC,KAAK,KAAK,CAAC,EAAE;QACtBH,MAAM,CAAC,gBAAgB,EAAEE,QAAQ,CAACD,IAAI,CAAC;QACvC,IAAI,CAACV,KAAK,CAACE,QAAQ,GAAGS,QAAQ,CAACD,IAAI;QACnCG,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;QAClC,MAAMf,MAAM,CAACgB,IAAI,CAAC,OAAO,CAAC;MAC9B,CAAC,MAAM;QACHF,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACD,IAAI,CAAC;MAC9B;IACJ,CAAC;IAED,MAAMM,UAAUA,CAAA,EAAG;MACf,IAAI,CAAChB,KAAK,CAACE,QAAQ,GAAG,IAAI;MAC1BW,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACrC,MAAMf,MAAM,CAACgB,IAAI,CAAC,GAAG,CAAC;IAC1B,CAAC;IAED,MAAME,aAAaA,CAAC;MAACR;IAAM,CAAC,EAAE;MAC1BI,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MACvC,IAAIH,QAAQ,GAAG,MAAMb,WAAW,CAACmB,aAAa,CAAC,CAAC;MAChD,IAAIN,QAAQ,CAACC,KAAK,KAAK,CAAC,EAAE;QACtBH,MAAM,CAAC,eAAe,EAAEE,QAAQ,CAACD,IAAI,CAAC;MAC1C,CAAC,MAAM;QACHG,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACD,IAAI,CAAC;MAC9B;IACJ;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}