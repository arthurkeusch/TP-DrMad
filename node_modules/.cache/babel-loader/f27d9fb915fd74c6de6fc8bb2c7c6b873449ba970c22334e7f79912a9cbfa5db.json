{"ast":null,"code":"import BankAccountService from '../services/bankaccount.service';\nexport default {\n  // state = les données centralisées\n  state: () => ({\n    accountAmount: 0,\n    accountTransactions: [],\n    accountNumberError: 0\n  }),\n  // mutations = fonctions synchrones pour mettre à jour le state (!!! interdit de modifier directement le state)\n  mutations: {\n    updateAccountAmount(state, amount) {\n      state.accountAmount = amount;\n    },\n    updateAccountTransactions(state, transactions) {\n      state.accountTransactions = transactions;\n    },\n    updateAccountNumberError(state, error) {\n      state.accountNumberError = error;\n    }\n  },\n  // actions = fonctions asynchrone pour mettre à jour le state, en faisant appel aux mutations, via la fonction commit()\n  actions: {\n    async getAccountAmount({\n      commit\n    }, number) {\n      console.log('get account amount');\n      let response = await BankAccountService.getAccountAmount(number);\n      if (response.error === 0) {\n        commit('updateAccountAmount', response.data);\n        commit('updateAccountNumberError', 1);\n      } else {\n        console.log(response.data);\n        commit('updateAccountNumberError', -1);\n      }\n    },\n    async getAccountTransactions({\n      commit\n    }, number) {\n      console.log('get account transactions');\n      let response = await BankAccountService.getAccountTransactions(number);\n      if (response.error === 0) {\n        commit('updateAccountTransactions', response.data);\n        commit('updateAccountNumberError', 1);\n      } else {\n        console.log(response.data);\n        commit('updateAccountNumberError', -1);\n      }\n    }\n  }\n};","map":{"version":3,"names":["BankAccountService","state","accountAmount","accountTransactions","accountNumberError","mutations","updateAccountAmount","amount","updateAccountTransactions","transactions","updateAccountNumberError","error","actions","getAccountAmount","commit","number","console","log","response","data","getAccountTransactions"],"sources":["/home/arthur/Documents/BUT/BUT2/Dev web/S3/Front-end/S3/tp4_v2/src/store/bank.js"],"sourcesContent":["import BankAccountService from '../services/bankaccount.service'\n\nexport default {\n    // state = les données centralisées\n    state: () => ({\n        accountAmount: 0,\n        accountTransactions: [],\n        accountNumberError: 0,\n    }),\n    // mutations = fonctions synchrones pour mettre à jour le state (!!! interdit de modifier directement le state)\n    mutations: {\n        updateAccountAmount(state, amount) {\n            state.accountAmount = amount\n        },\n        updateAccountTransactions(state, transactions) {\n            state.accountTransactions = transactions\n        },\n        updateAccountNumberError(state, error) {\n            state.accountNumberError = error\n        }\n    },\n    // actions = fonctions asynchrone pour mettre à jour le state, en faisant appel aux mutations, via la fonction commit()\n    actions: {\n        async getAccountAmount({commit}, number) {\n            console.log('get account amount');\n            let response = await BankAccountService.getAccountAmount(number)\n            if (response.error === 0) {\n                commit('updateAccountAmount', response.data)\n                commit('updateAccountNumberError', 1)\n            }\n            else {\n                console.log(response.data)\n                commit('updateAccountNumberError', -1)\n            }\n        },\n        async getAccountTransactions({commit}, number) {\n            console.log('get account transactions');\n            let response = await BankAccountService.getAccountTransactions(number)\n            if (response.error === 0) {\n                commit('updateAccountTransactions', response.data)\n                commit('updateAccountNumberError', 1)\n            }\n            else {\n                console.log(response.data)\n                commit('updateAccountNumberError', -1)\n            }\n        },\n    }\n}\n"],"mappings":"AAAA,OAAOA,kBAAkB,MAAM,iCAAiC;AAEhE,eAAe;EACX;EACAC,KAAK,EAAEA,CAAA,MAAO;IACVC,aAAa,EAAE,CAAC;IAChBC,mBAAmB,EAAE,EAAE;IACvBC,kBAAkB,EAAE;EACxB,CAAC,CAAC;EACF;EACAC,SAAS,EAAE;IACPC,mBAAmBA,CAACL,KAAK,EAAEM,MAAM,EAAE;MAC/BN,KAAK,CAACC,aAAa,GAAGK,MAAM;IAChC,CAAC;IACDC,yBAAyBA,CAACP,KAAK,EAAEQ,YAAY,EAAE;MAC3CR,KAAK,CAACE,mBAAmB,GAAGM,YAAY;IAC5C,CAAC;IACDC,wBAAwBA,CAACT,KAAK,EAAEU,KAAK,EAAE;MACnCV,KAAK,CAACG,kBAAkB,GAAGO,KAAK;IACpC;EACJ,CAAC;EACD;EACAC,OAAO,EAAE;IACL,MAAMC,gBAAgBA,CAAC;MAACC;IAAM,CAAC,EAAEC,MAAM,EAAE;MACrCC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACjC,IAAIC,QAAQ,GAAG,MAAMlB,kBAAkB,CAACa,gBAAgB,CAACE,MAAM,CAAC;MAChE,IAAIG,QAAQ,CAACP,KAAK,KAAK,CAAC,EAAE;QACtBG,MAAM,CAAC,qBAAqB,EAAEI,QAAQ,CAACC,IAAI,CAAC;QAC5CL,MAAM,CAAC,0BAA0B,EAAE,CAAC,CAAC;MACzC,CAAC,MACI;QACDE,OAAO,CAACC,GAAG,CAACC,QAAQ,CAACC,IAAI,CAAC;QAC1BL,MAAM,CAAC,0BAA0B,EAAE,CAAC,CAAC,CAAC;MAC1C;IACJ,CAAC;IACD,MAAMM,sBAAsBA,CAAC;MAACN;IAAM,CAAC,EAAEC,MAAM,EAAE;MAC3CC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MACvC,IAAIC,QAAQ,GAAG,MAAMlB,kBAAkB,CAACoB,sBAAsB,CAACL,MAAM,CAAC;MACtE,IAAIG,QAAQ,CAACP,KAAK,KAAK,CAAC,EAAE;QACtBG,MAAM,CAAC,2BAA2B,EAAEI,QAAQ,CAACC,IAAI,CAAC;QAClDL,MAAM,CAAC,0BAA0B,EAAE,CAAC,CAAC;MACzC,CAAC,MACI;QACDE,OAAO,CAACC,GAAG,CAACC,QAAQ,CAACC,IAAI,CAAC;QAC1BL,MAAM,CAAC,0BAA0B,EAAE,CAAC,CAAC,CAAC;MAC1C;IACJ;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}