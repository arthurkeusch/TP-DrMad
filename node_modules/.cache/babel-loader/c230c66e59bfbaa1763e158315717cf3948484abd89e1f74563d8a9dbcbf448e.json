{"ast":null,"code":"import _regeneratorRuntime from \"/home/arthur/Documents/GitHub/TP-DrMad/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/arthur/Documents/GitHub/TP-DrMad/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/home/arthur/Documents/GitHub/TP-DrMad/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport VerticalMenu from \"@/components/VerticalMenu\";\nimport { mapActions } from \"vuex\";\nvar __default__ = {\n  components: {\n    VerticalMenu: VerticalMenu\n  },\n  mounted: function mounted() {\n    this.updateNavBar();\n  },\n  watch: {\n    $route: \"updateNavBar\"\n  },\n  data: function data() {\n    return {\n      menuItems: [{\n        type: \"title\",\n        label: \"Opérations\"\n      }, {\n        type: \"link\",\n        label: \"Solde\",\n        to: \"/bank/amount\"\n      }, {\n        type: \"link\",\n        label: \"Débit/Virement\",\n        to: \"/bank/operation\"\n      }, {\n        type: \"title\",\n        label: \"États\"\n      }, {\n        type: \"link\",\n        label: \"Historique\",\n        to: \"/bank/history\"\n      }],\n      titles: [],\n      currentBalance: 0\n    };\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions(['getAccountAmount'])), {}, {\n    updateNavBar: function updateNavBar() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this.$store.state.shopUser !== null && _this.$store.state.shopUser !== undefined)) {\n                _context.next = 11;\n                break;\n              }\n              if (!(_this.$store.state.bank.bankUser !== null && _this.$store.state.bank.bankUser !== undefined)) {\n                _context.next = 5;\n                break;\n              }\n              _this.currentBalance = _this.$store.state.bank.accountAmount;\n              _context.next = 8;\n              break;\n            case 5:\n              if (!(_this.$route.name !== 'bankaccount')) {\n                _context.next = 8;\n                break;\n              }\n              _context.next = 8;\n              return _this.$router.push({\n                name: 'bankaccount'\n              });\n            case 8:\n              if (_this.$route.name === 'bankhome' || _this.$route.name === 'bankaccount') {\n                _this.titles = [{\n                  label: 'Mon Compte',\n                  to: '/bank/account'\n                }];\n              }\n              _context.next = 13;\n              break;\n            case 11:\n              _this.titles = [{\n                label: 'Login',\n                to: 'white'\n              }];\n              if (_this.$route.name !== 'shoplogin') {\n                _this.$router.push({\n                  name: 'shoplogin'\n                });\n              }\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  })\n};\nimport NavBar from \"@/components/NavBar.vue\";\nexport default /*#__PURE__*/Object.assign(__default__, {\n  __name: 'BankView',\n  setup: function setup(__props) {\n    return {\n      __sfc: true,\n      VerticalMenu: VerticalMenu,\n      NavBar: NavBar\n    };\n  }\n});","map":{"version":3,"names":["VerticalMenu","mapActions","__default__","components","mounted","updateNavBar","watch","$route","data","menuItems","type","label","to","titles","currentBalance","methods","_objectSpread","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","state","shopUser","undefined","bank","bankUser","accountAmount","name","$router","push","stop","NavBar"],"sources":["BankView.vue"],"sourcesContent":["<script setup>\n\nimport NavBar from \"@/components/NavBar.vue\";\n</script>\n\n<template>\n  <div>\n    <div>\n      <NavBar :links=\"titles\">\n        <template v-slot:nav-button=\"{ label, style }\">\n          <span :style=\"style\" v-html=\"label\"></span>\n        </template>\n      </NavBar>\n    </div>\n    <div id=\"page\">\n\n      <VerticalMenu :items=\"menuItems\">\n        <template v-slot:menu-title=\"{ label }\">\n          <h2><b><u>{{ label }}</u></b></h2>\n        </template>\n        <template v-slot:menu-link=\"{ label }\">\n          <button>{{ label }}</button>\n        </template>\n      </VerticalMenu>\n\n      <div id=\"centre\">\n        <h1>Bienvenue à la banque</h1>\n        <router-view name=\"bankmain\" :balance=\"currentBalance\"></router-view>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport VerticalMenu from \"@/components/VerticalMenu\";\nimport {mapActions} from \"vuex\";\n\nexport default {\n  components: {\n    VerticalMenu,\n  },\n\n  mounted() {\n    this.updateNavBar();\n  },\n\n  watch: {\n    $route: \"updateNavBar\",\n  },\n\n  data() {\n    return {\n      menuItems: [\n        {type: \"title\", label: \"Opérations\"},\n        {type: \"link\", label: \"Solde\", to: \"/bank/amount\"},\n        {type: \"link\", label: \"Débit/Virement\", to: \"/bank/operation\"},\n        {type: \"title\", label: \"États\"} ,\n        {type: \"link\", label: \"Historique\", to: \"/bank/history\"}\n      ],\n      titles: [],\n      currentBalance: 0\n    };\n  },\n\n  methods: {\n    ...mapActions([\n      'getAccountAmount'\n    ]),\n\n    async updateNavBar() {\n      if (this.$store.state.shopUser !== null && this.$store.state.shopUser !== undefined) {\n        if (this.$store.state.bank.bankUser !== null && this.$store.state.bank.bankUser !== undefined) {\n          this.currentBalance = this.$store.state.bank.accountAmount;\n        } else {\n          if (this.$route.name !== 'bankaccount') {\n            await this.$router.push({name: 'bankaccount'});\n          }\n        }\n        if (this.$route.name === 'bankhome' || this.$route.name === 'bankaccount') {\n          this.titles = [\n            {label: 'Mon Compte', to: '/bank/account'}\n          ];\n        }\n      } else {\n        this.titles = [{label: 'Login', to: 'white'}];\n        if (this.$route.name !== 'shoplogin') {\n          this.$router.push({name: 'shoplogin'});\n        }\n      }\n    },\n  }\n};\n</script>\n\n<style scoped>\n\n#page{\n  display: flex;\n}\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}